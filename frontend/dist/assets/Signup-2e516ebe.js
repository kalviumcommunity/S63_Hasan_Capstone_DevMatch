import{r,a as g,V as i,b as h,j as e,L as j}from"./index-5bf96fbc.js";import{u as f,o as N}from"./index.esm-a7eb725e.js";import{T as n,A as b}from"./commonSchema-00b04d0f.js";import{I as y,a as w,S as v}from"./authSchema-93026daa.js";import{g as S}from"./assetUtils-effab234.js";import"./index-d2c24ee7.js";const A=l=>{const[c,s]=r.useState(!1),d=g();return{isLoading:c,handleSignup:async t=>{s(!0);const o=i.loading("Loading...");try{const a=await h.post("/auth/signup",t);a.data.success&&(i.success(a.data.message),d("/login",{replace:!0}),l())}catch(a){a.response?i.error(a.response.data.message):i.error(a.message)}finally{s(!1),i.dismiss(o)}}}},k=()=>{const{register:l,handleSubmit:c,formState:{errors:s,isValid:d},reset:m}=f({resolver:N(v),defaultValues:{gender:"male"},mode:"onChange"}),[t,o]=r.useState(!1),{isLoading:a,handleSignup:u}=A(m),p=async x=>{await u(x)};return e.jsxs("div",{className:"h-full flex flex-1 gap-10 items-center justify-center py-3 sm:py-0",children:[e.jsx("div",{className:"lg:block hidden",children:e.jsx("img",{src:S("assets/signup.jpg"),className:"block mx-auto w-[448px] rounded-xl",loading:"lazy",alt:"login-img"})}),e.jsxs("div",{className:"max-w-md w-full",children:[e.jsx("h2",{className:"card-title justify-center text-2xl mt-8 text-neutral-content",children:"Create an Account"}),e.jsxs("form",{noValidate:!0,onSubmit:c(p),className:"card-body",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"floating-label",children:[e.jsx("span",{className:`${(s==null?void 0:s.name)&&"text-red-500"}`,children:"Name"}),e.jsx("input",{type:"text",...l("name"),placeholder:"Name",className:`input w-full h-13 focus:outline-0 focus-within:outline-0 ${(s==null?void 0:s.name)&&"border-red-500"}`})]}),(s==null?void 0:s.name)&&e.jsx(n,{message:s.name.message})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"floating-label",children:[e.jsx("span",{className:`${(s==null?void 0:s.email)&&"text-red-500"}`,children:"Email Address"}),e.jsx("input",{type:"email",...l("email"),placeholder:"Email Address",className:`input w-full h-13 focus:outline-0 focus-within:outline-0 ${(s==null?void 0:s.email)&&"border-red-500"}`})]}),(s==null?void 0:s.email)&&e.jsx(n,{message:s.email.message})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"floating-label",children:[e.jsx("span",{className:`${(s==null?void 0:s.password)&&"text-red-500"}`,children:"Password"}),e.jsx("input",{type:t?"text":"password",...l("password"),placeholder:"Password",className:`input w-full h-13 focus:outline-0 focus-within:outline-0 ${(s==null?void 0:s.password)&&"border-red-500"}`})]}),e.jsx("span",{onClick:()=>o(!t),className:"absolute top-1/2 -translate-y-1/2 z-[1] right-10 text-base cursor-pointer text-primary",children:t?e.jsx(y,{}):e.jsx(w,{})}),(s==null?void 0:s.password)&&e.jsx(n,{message:s.password.message})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:18,...l("age"),placeholder:"Age",className:`input input-bordered w-full h-12 focus:outline-0 focus-within:outline-0 ${(s==null?void 0:s.age)&&"border-red-500"}`}),(s==null?void 0:s.age)&&e.jsx(n,{message:s.age.message})]}),e.jsxs("div",{className:"space-x-4 text-neutral-content",children:[e.jsxs("label",{className:"label cursor-pointer justify-start gap-2",children:[e.jsx("input",{type:"radio",...l("gender"),className:"radio radio-primary",value:"male"}),e.jsx("span",{className:"label-text",children:"Male"})]}),e.jsxs("label",{className:"label cursor-pointer justify-start gap-2",children:[e.jsx("input",{type:"radio",...l("gender"),className:"radio radio-primary",value:"female"}),e.jsx("span",{className:"label-text",children:"Female"})]})]})]}),e.jsxs("div",{className:"flex items-center flex-col gap-3 my-4",children:[e.jsxs("p",{className:"m-auto cursor-pointer font-light text-neutral-content",children:["Already Registered ?"," ",e.jsx(j,{to:"/login",className:"font-semibold text-primary",children:"Log In"})]}),e.jsx("button",{type:"submit",disabled:!d||a,className:"btn btn-primary w-full h-11",children:a?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"animate animate-spin text-lg"}),"Processing..."]}):"Signup"})]})]})]})]})};export{k as default};
