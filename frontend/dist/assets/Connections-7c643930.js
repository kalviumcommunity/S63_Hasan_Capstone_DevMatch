import{a as r,j as e,u as n,r as m,b as d}from"./index-5bf96fbc.js";import{t as x}from"./truncateString-f6f42b12.js";import{g as i}from"./assetUtils-effab234.js";const u=({connection:s})=>{const{_id:a,photoUrl:t,name:l,about:c}=s,o=r();return e.jsxs("div",{className:"flex flex-wrap items-center gap-5 bg-base-100 p-5 rounded-lg md:flex-nowrap",children:[e.jsxs("div",{className:"flex items-center gap-5 flex-1",children:[e.jsx("img",{src:t,className:"w-12 h-12 md:w-16 md:h-16 rounded-full",alt:"connection-img",loading:"lazy"}),e.jsxs("div",{className:"text-left space-y-1",children:[e.jsx("h3",{className:"font-semibold text-sm md:text-base",children:l}),e.jsx("p",{className:"text-xs md:text-sm",children:x(c,60)})]})]}),e.jsx("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-3 w-full md:w-auto",children:e.jsx("button",{onClick:()=>o(`/chat/${a}`,{replace:!0}),className:"btn btn-primary btn-sm sm:btn-md",children:"Chat"})})]})},h=()=>{const{addConnections:s}=n();m.useEffect(()=>{(async()=>{try{const t=await d.get("/user/connections");t.data.success&&s(t.data.data)}catch(t){t.response&&console.error(t.response.data.message)}})()},[s])},j=()=>{h();const{connections:s}=n();return e.jsx("div",{className:"text-center my-8 max-w-3xl w-full mx-auto px-3",children:(s==null?void 0:s.length)===0?e.jsxs("div",{className:"text-center space-y-5",children:[e.jsx("h2",{className:"sm:text-3xl text-2xl font-bold text-neutral-content",children:"No Connections Found!"}),e.jsx("img",{loading:"lazy",src:i("assets/empty-connections.svg"),alt:"user-not-found",className:"block mx-auto w-96"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold",children:["My Connections (",s==null?void 0:s.length,")"]}),e.jsx("div",{className:"space-y-6 mt-8",children:s==null?void 0:s.map(a=>e.jsx(u,{connection:a},a._id))})]})})};export{j as default};
