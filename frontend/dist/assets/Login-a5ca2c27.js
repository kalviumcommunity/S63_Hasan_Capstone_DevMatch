import{r as u,u as g,a as h,V as t,b as f,j as s,L as j}from"./index-5bf96fbc.js";import{u as b,o as N}from"./index.esm-a7eb725e.js";import{T as m,A as w}from"./commonSchema-00b04d0f.js";import{I as y,a as L,L as v}from"./authSchema-93026daa.js";import{g as S}from"./assetUtils-effab234.js";import"./index-d2c24ee7.js";const k=l=>{const[o,e]=u.useState(!1),{addUser:c}=g(),d=h();return{isLoading:o,handleLogin:async r=>{e(!0);const n=t.loading("Loading...");try{const a=await f.post("/auth/login",r);a.data.success&&(t.success(a.data.message),c(a.data.data),d("/feed",{replace:!0}),l())}catch(a){a.response?t.error(a.response.data.message):t.error(a.message)}finally{e(!1),t.dismiss(n)}}}},C=()=>{const{register:l,handleSubmit:o,formState:{errors:e,isValid:c},reset:d}=b({resolver:N(v),mode:"onChange"}),[i,r]=u.useState(!1),{isLoading:n,handleLogin:a}=k(d),x=async p=>{await a(p)};return s.jsxs("div",{className:"h-full flex flex-1 gap-10 items-center justify-center",children:[s.jsx("div",{className:"lg:block hidden",children:s.jsx("img",{src:S("assets/login.jpg"),className:"block mx-auto w-[448px] rounded-xl",loading:"lazy",alt:"login-img"})}),s.jsxs("div",{className:"max-w-md w-full",children:[s.jsx("h2",{className:"card-title justify-center text-2xl mt-8 text-neutral-content",children:"Login to your Account"}),s.jsxs("form",{noValidate:!0,onSubmit:o(x),className:"card-body",children:[s.jsxs("div",{className:"space-y-5 my-4",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"floating-label",children:[s.jsx("span",{className:`${(e==null?void 0:e.email)&&"text-red-500"}`,children:"Email Address"}),s.jsx("input",{type:"email",...l("email"),placeholder:"Email Address",className:`input w-full h-13 focus:outline-0 focus-within:outline-0 ${(e==null?void 0:e.email)&&"border-red-500"}`})]}),(e==null?void 0:e.email)&&s.jsx(m,{message:e.email.message})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"floating-label",children:[s.jsx("span",{className:`${(e==null?void 0:e.password)&&"text-red-500"}`,children:"Password"}),s.jsx("input",{type:i?"text":"password",...l("password"),placeholder:"Password",className:`input w-full h-13 focus:outline-0 focus-within:outline-0 ${(e==null?void 0:e.password)&&"border-red-500"}`})]}),s.jsx("span",{onClick:()=>r(!i),className:"absolute top-1/2 -translate-y-1/2 z-[1] right-10 text-base cursor-pointer text-primary",children:i?s.jsx(y,{}):s.jsx(L,{})}),(e==null?void 0:e.password)&&s.jsx(m,{message:e.password.message})]})]}),s.jsxs("label",{className:"fieldset-label mb-6 text-neutral-content",children:[s.jsx("input",{type:"checkbox",className:"checkbox rounded-sm w-5 h-5 text-neutral-content",defaultChecked:!0}),"Remember me"]}),s.jsxs("div",{className:"flex items-center flex-col gap-3",children:[s.jsxs("p",{className:"m-auto cursor-pointer font-light text-neutral-content",children:["Not Registered Yet ?"," ",s.jsx(j,{to:"/signup",className:"font-semibold text-primary",children:"Sign Up"})]}),s.jsx("button",{type:"submit",disabled:!c||n,className:"btn btn-primary w-full h-11",children:n?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(w,{className:"animate animate-spin text-lg"}),"Processing..."]}):"Login"})]})]})]})]})};export{C as default};
